# C++和C的区别？
C++是面向对象的编程语言，C是面向过程的



# C++的多态

## 重载、重写、重定义的的区别

### 1. 重载

​	函数重载是指在同一作用域内（**在同一个类中**），**函数名相同，参数列表不同**的一组函数，这组函数被称为重载函数。重载函数通常用来命名一组功能相似的函数，这样做减少了函数名的数量，避免了名字空间的污染，对于程序的可读性有很大的好处。比如说四则运算中的+函数，可以根据参数不同定义参数为int、str时的加法。被重载的函数不需要有virtual关键字，它们的返回值也有所不同。但调用函数时，会根据参数的类型选择执行哪一个函数。

### 2. 重写

重写就是override，是指派生类中定义基类中的虚函数，为多态服务。特征是重写的函数与基函数不在一个作用域中（基类和派生类），它们的函数名、函数参数类型、返回值类型都必须相同，但它们的访问修饰符可以不同（private、public、protected），且基类必须是**虚函数或纯虚函数**。举个例子，父亲要看电影、儿子也要看电影，但他们看完电影的反应是不一样的（但都得是一种类型的反应，比如说某句话，或者做某件事），他们的函数输入也必须都是电影。父亲看完后print 好看，儿子看完后print 难看，这就是一种虚函数的重写。在函数重写时，往往会加上override关键字声明，以防和重定义混淆。

### 3. 重定义

重定义也叫隐藏，重定义是指在不同作用域中，派生类定义了一个和基类函数名字相同、返回值可以不同、参数不同重定义函数。

- 当基类函数是虚函数时，若子类函数的参数与基类函数相同，那么它叫重写，若参数不同，那么它叫重定义。当基函数和子函数参数不同，并且子函数还用override关键字声明时，编译就会报错。
- 当基类函数不是虚函数时，无论参数是否相同，子类函数都算重定义。

## 虚函数、纯虚函数、静态联编、动态联编

### 1. 虚函数、静态联编、动态联编

- 静态联编是指在函数编译时就已确定要调用函数的哪个实现，而动态联编是指在函数执行时才确定调用函数的哪个实现，有些类似tf和pytorch的静态图和动态图。静态联编效率高，动态联编更灵活，**C语言中全都是静态联编**，这也可以说明C中没有对象的概念，也不存在灵活的多态。动态联编还需要和虚函数一起讲。

- 虚函数时为了满足多态的特性，在基类中定义的一种函数。当一个基类类型的指针指向一个派生类的对象时，会优先调用派生类对象中定义的虚函数，而不是基类中的虚函数。比如

```c++
class Cfather
{
public:
virtual void Eat(){cout<<"Im your father"<<endl;}
void Move(){cout<<"father can move, kid cant do it";}
private:
};
class CChild : public Cfather
{
public:
virtual void Eat(){cout<<"Im your kid"<<endl;}
private:
};
Cfather m_father;
CChild m_child;
Cfather *p ;  // 注意，此时指针类型是父类
p = &m_father ; //指向基类对象的父类类型指针
p->Eat();    //输出"Im your father"
p = &m_child;
p->Eat();    // 输出"Im your kid"
//如果子类没有重写此函数时，则还是调用父类中的
p->Move(); //输出 "father can move, kid cant do it"
```

在这里，指向子类对象的指针调用Eat函数时就是动态联编，直到运行时才根据对象m_child的类型确定调用哪个函数实现。

### 2. 纯虚函数

纯虚函数比较简单，类似于Java中的接口函数。它在基类中不允许被定义，但要求它的派生类必须实现纯虚函数，有纯虚函数的类也叫做**抽象类**（抽象类不能生成对象）。纯虚函数的意义在于它代表着一种抽象的对象，比如生物，生物可以由人、老虎等继承，但是它本身缺少实际的意义，所以生物会作为一个抽象类。要定义纯虚函数，只需要在虚函数的函数体后加一个“=0”即可，比如

```c++
class Creature{
      public:
          virtual void speak() = 0;//纯虚函数, print生物叫声，但“生物”本身是没有叫声的
}
class Dog{
  		public:
  				virtual void speak(){cout<<"汪汪汪！"<<endl;}
}
class Cat{
  		public:
  				virtual void speak(){cout<<"喵喵喵！"<<endl;}
}
```





